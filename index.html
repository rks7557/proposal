<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise for My Love</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fce7f3 0%, #fff0f5 50%, #fce7f3 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            color: #4b0082;
            position: relative;
            background-size: 200% 200%;
            animation: gradient-animation 15s ease infinite;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .modal {
            animation: popIn 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border: 3px solid #e91e63;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        @keyframes popIn {
            from { transform: scale(0.5) rotate(-10deg); opacity: 0; }
            to { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .modal-leave {
            animation: popOut 0.5s cubic-bezier(0.6, -0.28, 0.73, 0.04) forwards;
        }

    @keyframes popOut {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(0.5); opacity: 0; }
        }

        .heart {
            position: absolute;
            font-size: 2.5rem;
            animation: float-up linear infinite;
            pointer-events: none;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
            opacity: 0;
        }

        @keyframes float-up {
            from { transform: translateY(0) scale(1); opacity: 0.8; }
            to { transform: translateY(-100vh) scale(1.2); opacity: 0; }
        }

        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 20;
        }

        .confetti {
            position: absolute;
            animation: confetti-fall linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translate(var(--x, 0), 0) rotateZ(var(--r, 0deg)); opacity: 1; }
            100% { transform: translate(var(--x, 0), 100vh) rotateZ(var(--r, 0deg)); opacity: 0; }
        }

        .shake {
            animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
            transform: translate3d(0, 0, 0);
            backface-visibility: hidden;
            perspective: 1000px;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .pulsate-pink {
            animation: pulsate-pink 1.5s ease-in-out infinite;
        }

        @keyframes pulsate-pink {
            0% { box-shadow: 0 0 0 0 rgba(233, 30, 99, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(233, 30, 99, 0); }
            100% { box-shadow: 0 0 0 0 rgba(233, 30, 99, 0); }
        }

        .runaway-button {
            transition: transform 0.2s ease-out;
        }

        .satisfy-font {
            font-family: 'Satisfy', cursive;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <!-- Floating Hearts -->
    <div class="heart" style="top: 10%; left: 20%; animation-duration: 12s; animation-delay: 0s;">üíñ</div>
    <div class="heart" style="top: 25%; left: 80%; animation-duration: 15s; animation-delay: 2s;">‚ù§Ô∏è</div>
    <div class="heart" style="top: 60%; left: 10%; animation-duration: 10s; animation-delay: 4s;">üíñ</div>
    <div class="heart" style="top: 80%; left: 60%; animation-duration: 14s; animation-delay: 6s;">‚ù§Ô∏è</div>
    <div class="heart" style="top: 40%; left: 45%; animation-duration: 11s; animation-delay: 5s; font-size: 3rem;">‚ù§Ô∏è</div>
    <div class="heart" style="top: 5%; left: 55%; animation-duration: 13s; animation-delay: 7s; font-size: 1.5rem;">üíñ</div>

    <!-- Confetti Container -->
    <div id="confetti-container" class="confetti-container hidden"></div>

    <!-- Main Modal Container -->
    <div id="modal-container" class="flex flex-col items-center justify-center p-8 rounded-3xl max-w-lg w-full text-center space-y-6 transform scale-0 opacity-0 modal">

        <!-- Question Section -->
        <div id="question-section" class="w-full space-y-6">
            <h1 id="question-title" class="satisfy-font text-4xl sm:text-5xl font-extrabold text-[#e91e63]">A Very Important Question!</h1>
            <p id="message-text" class="text-xl sm:text-2xl font-medium text-gray-700">Has it really been 12 years of love, laughter, and amazing memories?</p>

            <!-- Button Container -->
            <div id="button-container" class="flex flex-col sm:flex-row gap-4 w-full">
                <button id="yes-btn" class="flex-1 px-6 py-3 text-lg font-bold text-white bg-pink-500 rounded-full shadow-lg transition transform hover:scale-105 active:scale-95 pulsate-pink">
                    Yes, a million times!
                </button>
                <button id="no-btn" class="flex-1 px-6 py-3 text-lg font-bold text-white bg-gray-500 rounded-full shadow-lg hover:bg-gray-600 transition transform hover:scale-105 active:scale-95 runaway-button">
                    Not sure...
                </button>
            </div>
        </div>

        <!-- Hidden Message Container -->
        <div id="result-container" class="w-full text-2xl sm:text-3xl font-bold text-center mt-6 transition-all duration-500 opacity-0 hidden">
            <p id="result-message" class="leading-relaxed"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modalContainer = document.getElementById('modal-container');
            const questionSection = document.getElementById('question-section');
            const questionTitle = document.getElementById('question-title');
            const messageText = document.getElementById('message-text');
            const yesBtn = document.getElementById('yes-btn');
            const noBtn = document.getElementById('no-btn');
            const resultContainer = document.getElementById('result-container');
            const resultMessage = document.getElementById('result-message');
            const confettiContainer = document.getElementById('confetti-container');

            let noClickCount = 0;
            let currentQuestionIndex = 0;
            const targetName = "Akanksha";

            const questions = [
                { title: "A Very Important Question!", text: `Has it really been 12 years of love, laughter, and amazing memories?`, yesButtonLabel: "It certainly has!", noButtonText: "I'm not sure..." },
                { title: "A Quick Quiz!", text: `Who has the worst singing voice during our video calls?`, yesButtonLabel: "That would be you!", noButtonText: "I'd rather not say." },
                { title: "The Next Challenge!", text: `Who is the master of sending the perfect 'I miss you' GIF at the right time?`, yesButtonLabel: "You, of course!", noButtonText: "I need to think about this..." },
                { title: "The Final Question!", text: `Will you marry me, ${targetName}?`, yesButtonLabel: "Yes, a million times!", noButtonText: "No..." }
            ];

            const noResponses = [
                "There is no 'not sure' when it comes to us! Try again.",
                "Wait, are you seriously picking 'not sure'?",
                "That's not the answer the script calls for! Click the other button!",
                "You can't escape destiny! Just click YES!",
                "The rings are getting cold. You've got to say yes!",
                "It's a trap! The 'No' button is a lie! It knows you want to say yes."
            ];

            setTimeout(() => {
                modalContainer.classList.remove('opacity-0', 'scale-0');
                modalContainer.classList.add('modal');
            }, 300);

            const showNextQuestion = () => {
                const q = questions[currentQuestionIndex];
                questionTitle.textContent = q.title;
                messageText.textContent = q.text;
                yesBtn.textContent = q.yesButtonLabel;
                noBtn.textContent = q.noButtonText;

                // Reset button positions
                yesBtn.style.position = 'static';
                yesBtn.style.transform = 'translate(0, 0)';
                noBtn.style.position = 'static';
                noBtn.style.transform = 'translate(0, 0)';
                noClickCount = 0;

                // Only add the 'runaway' behavior to the final 'Yes' button
                if (currentQuestionIndex === questions.length - 1) {
                    yesBtn.addEventListener('mouseover', chaseYesButton);
                } else {
                    yesBtn.removeEventListener('mouseover', chaseYesButton);
                }
            };

            const showResult = (isProposal) => {
                modalContainer.classList.add('modal-leave');
                setTimeout(() => {
                    modalContainer.classList.remove('modal', 'modal-leave');
                    questionSection.classList.add('hidden');
                    
                    if (isProposal) {
                        resultMessage.innerHTML = "I have loved you for 12 years, and I want to spend every tomorrow with you.<br>Will you make me the happiest person in the world?üíç";
                        resultContainer.classList.remove('hidden');
                        setTimeout(() => {
                            resultContainer.classList.remove('opacity-0');
                            celebrate();
                        }, 100);
                    }
                    
                    modalContainer.classList.remove('opacity-0', 'scale-95');
                    
                }, 500);
            };

            yesBtn.addEventListener('click', () => {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showNextQuestion();
                } else {
                    showResult(true);
                }
            });

            const chaseYesButton = (event) => {
                const buttonRect = yesBtn.getBoundingClientRect();
                const mouseX = event.clientX;
                const mouseY = event.clientY;

                const dx = mouseX - (buttonRect.left + buttonRect.width / 2);
                const dy = mouseY - (buttonRect.top + buttonRect.height / 2);

                const newX = -dx * 0.2;
                const newY = -dy * 0.2;

                yesBtn.style.transform = `translate(${newX}px, ${newY}px)`;
            };
            
            yesBtn.addEventListener('mouseout', resetYesButton);

            const resetYesButton = () => {
                yesBtn.style.transform = 'translate(0, 0)';
            };

            noBtn.addEventListener('click', () => {
                const currentMessage = noResponses[noClickCount] || "Come on, just press the right button!";
                messageText.textContent = currentMessage;
                noClickCount++;
                noBtn.classList.add('shake');
                setTimeout(() => noBtn.classList.remove('shake'), 820);

                if (noClickCount >= noResponses.length) {
                    noBtn.removeEventListener('click', () => {});
                    noBtn.addEventListener('mouseover', chaseNoButton);
                    noBtn.addEventListener('click', teleportNoButton);
                }
            });

            noBtn.addEventListener('mouseover', chaseNoButton);
            noBtn.addEventListener('mouseout', resetNoButton);
            
            const chaseNoButton = (event) => {
                const buttonRect = noBtn.getBoundingClientRect();
                const mouseX = event.clientX;
                const mouseY = event.clientY;

                const dx = mouseX - (buttonRect.left + buttonRect.width / 2);
                const dy = mouseY - (buttonRect.top + buttonRect.height / 2);

                const newX = -dx * 0.5;
                const newY = -dy * 0.5;

                noBtn.style.transform = `translate(${newX}px, ${newY}px)`;
            };
            
            const resetNoButton = () => {
                noBtn.style.transform = 'translate(0, 0)';
            };

            const celebrate = () => {
                confettiContainer.classList.remove('hidden');
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.width = '15px';
                    confetti.style.height = '15px';
                    confetti.style.backgroundColor = 'transparent';
                    confetti.style.animationDelay = `${Math.random() * 2}s`;
                    confetti.style.setProperty('--x', `${Math.random() * 200 - 100}px`);
                    confetti.style.setProperty('--r', `${Math.random() * 360}deg`);
                    
                    const heartSVG = `<svg width="15" height="15" viewBox="0 0 24 24" fill="${getRandomColor()}" stroke="none"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5A5.48 5.48 0 0 1 8.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3A5.48 5.48 0 0 1 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
                    const diamondSVG = `<svg width="15" height="15" viewBox="0 0 24 24" fill="${getRandomColor()}" stroke="none"><path d="M12 0L2 12l10 12l10-12z" /></svg>`;
                    
                    confetti.innerHTML = Math.random() < 0.5 ? heartSVG : diamondSVG;

                    confettiContainer.appendChild(confetti);
                }
                setTimeout(() => {
                    confettiContainer.classList.add('hidden');
                    confettiContainer.innerHTML = '';
                }, 6000);
            };

            const getRandomColor = () => {
                const colors = ['#e91e63', '#ffc107', '#9c27b0', '#ff4081', '#f48fb1', '#ffecb3'];
                return colors[Math.floor(Math.random() * colors.length)];
            };

            showNextQuestion();
        });
    </script>
</body>
</html>

